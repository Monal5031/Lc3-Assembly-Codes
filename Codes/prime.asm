	.ORIG x3000

	AND R1, R1, x0
	AND R2, R2, x0

	ADD R1, R1, x5	; Test number

	ADD R2,R2,x2	; START FROM 2
	ADD R3,R1,x-1	; N-1

LOOP
	JSR DIV
	ADD R0,R0,x0 	; IF REMAINDER IS ZERO THEN NO
	BRz NO
	ADD R2,R2,x1
	NOT R5,R2
	ADD R5,R5,x1
	ADD R5,R3,R5	; LOOPING TILL N-1
	BRz YES
	BRnp LOOP
	JSR NO

YES
	LEA R0,MSGY
	JSR HLT

NO
	LEA R0,MSGN
	JSR HLT

HLT 
	TRAP x22
	HALT

MSGY .STRINGZ "NUMBER IS PRIME"
MSGN .STRINGZ "NUMBER IS NOT PRIME"

DIV
	ADD R0,R1,x0
	NOT R5,R2
	ADD R5,R5,x1
DIVLOOP
	ADD R0,R0,R5
	BRp DIVLOOP
	BRz BREAK
	ADD R0,R0,R2
BREAK RET
.END